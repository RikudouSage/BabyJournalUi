<mat-spinner class="global" *ngIf="!activities.length else content"></mat-spinner>

<ng-template #content>
  <mat-grid-list cols="2" gutterSize="10">
    <a [routerLink]="activity.link" *ngFor="let activity of activities" class="activity-tile">
      <mat-grid-tile [style.background-color]="activity.color">
        {{activity.displayName | async}}
        <mat-grid-tile-footer *ngIf="activity.isRunning | async">
          <mat-icon color="accent">hourglass_top</mat-icon>
        </mat-grid-tile-footer>
      </mat-grid-tile>
    </a>
  </mat-grid-list>

  <mat-card *ngIf="dates.length">
    <mat-card-header>
      <mat-card-title>{{"Activities" | translate}}</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div *ngFor="let date of dates">
        <strong class="center">{{date | relativeDate | async | uppercaseFirst}}</strong>
        <app-activity-event *ngFor="let activity of activityStream[date]" [activity]="activity"></app-activity-event>
      </div>
    </mat-card-content>
  </mat-card>
</ng-template>
